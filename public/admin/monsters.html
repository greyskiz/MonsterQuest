<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Manage Monsters</title>
  <link rel="stylesheet" href="/main.css" />
  <style>
    .wrap{max-width:980px;margin:40px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:420px 1fr;gap:24px}
    .panel{background:#fff;border:1px solid #eef1f4;border-radius:16px;box-shadow:0 6px 26px rgba(16,24,40,.06);padding:20px}
    .field{margin:12px 0}
    label{display:block;font-weight:600;margin-bottom:6px}
    input,select{width:100%;padding:10px;border:1px solid #d9e1ea;border-radius:10px}
    .btn{background:#2ea44f;color:#fff;border:none;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer}
    .btn-muted{background:#eef3f8;color:#333}
    .list .row{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 120px;gap:12px;align-items:center;border-bottom:1px solid #eef1f4;padding:10px 0}
    .thumb{width:72px;height:48px;object-fit:cover;border-radius:8px;border:1px solid #e4eaef}
    .error{color:#c62828;margin-top:10px}
    .bar{display:flex;gap:12px;align-items:center}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <a href="/admin/home.html" class="btn btn-muted">‚Üê Back to Admin</a>
      <h1 style="margin:0;">Manage Monsters</h1>
    </div>

    <div class="grid" style="margin-top:16px">
      <!-- Create -->
      <div class="panel">
        <h3>Create Monster</h3>
        <div class="field">
          <label>Name</label>
          <input id="name" placeholder="Slime"/>
        </div>
        <div class="field">
          <label>Tier</label>
          <select id="tier">
            <option value="QUICK">Quick (5 / 10 / 15)</option>
            <option value="STANDARD">Standard (25 / 30 / 45)</option>
            <option value="LONG">Long (60 / 90 / 120)</option>
          </select>
        </div>
        <div class="field">
          <label>Session Minutes (HP)</label>
          <select id="minutes">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="25">25</option>
            <option value="30">30</option>
            <option value="45">45</option>
            <option value="60">60</option>
            <option value="90">90</option>
            <option value="120">120</option>
          </select>
        </div>
        <div class="field">
          <label>Scope</label>
          <select id="scope">
            <option value="SOLO">Solo</option>
            <option value="PARTY">Party</option>
          </select>
        </div>
        <div class="field">
          <label>Image URL (required)</label>
          <input id="imageUrl" placeholder="https://example.com/monster.png"/>
        </div>
        <div class="field">
          <label>Preview</label>
          <div class="panel" style="height:160px;display:flex;align-items:center;justify-content:center;">
            <img id="previewImg" src="/assets/placeholder.png" alt="preview" style="max-height:140px;border-radius:12px;border:1px solid #e4eaef"/>
          </div>
        </div>
        <button id="createBtn" class="btn" style="width:100%;">Create Monster</button>
        <p id="error" class="error"></p>
      </div>

      <!-- List -->
      <div class="panel">
        <div class="bar" style="justify-content:space-between;margin-bottom:8px;">
          <h3 style="margin:0;">Current Monsters</h3>
          <div>
            <select id="fltTier">
              <option value="ALL">All tiers</option>
              <option value="QUICK">QUICK</option>
              <option value="STANDARD">STANDARD</option>
              <option value="LONG">LONG</option>
            </select>
            <select id="fltScope">
              <option value="ALL">All scopes</option>
              <option value="SOLO">SOLO</option>
              <option value="PARTY">PARTY</option>
            </select>
            <button id="refreshBtn" class="btn btn-muted">Refresh</button>
          </div>
        </div>

        <div class="row" style="font-weight:700;border-top:1px solid #eef1f4;">
          <div>Monster</div><div>Tier</div><div>Minutes</div><div>Scope</div><div>Actions</div>
        </div>
        <div id="list" class="list"></div>
      </div>
    </div>
  </div>

  <script src="/auth.js"></script>
  <script src="/admin/monsters.js" defer></script>
</body>
</html>
